<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>UVa 230 - Borrowers | sazid</title>

    <style>body{margin:40px auto;max-width:650px;line-height:1.6;font-size:18px;color:#444;padding:0 10px}h1,h2,h3{line-height:1.2}div.header h1{padding-top:0;padding-bottom:8px;margin-bottom:24px;font-size:18px;font-weight:400;border-bottom:1px solid}.header-menu{float:right}ul.pagination{list-style-type:none;text-align:center;padding:0}ul.pagination>li{padding:0 8px;display:inline-block}div.footer{border-top:1px solid;text-align:center}img{max-width:100%;max-height:100%;display:block;margin-left:auto;margin-right:auto}</style>

    
</head>

<body>
<div class="header">
    <h1>
        <a href="/">sazid</a>
        <div class="header-menu">
            <a href="/posts/">posts</a>
            <a href="/categories/">categories</a>
            <a href="/tags/">tags</a>
            <a href="/about/">about</a>
        </div>
    </h1>
</div>
<div id="content">

<header>
    <h1>UVa 230 - Borrowers</h1>
    

<div class="post-meta">
    <time datetime="2019-01-17">Jan 17, 2019</time>
    <br>
    Categories:
    <a href="https://sazid.github.io/categories/programming/">programming</a>,
    <a href="https://sazid.github.io/categories/thought-process/">thought-process</a>
    <br>
    Tags:
    <a href="https://sazid.github.io/tags/problem-solving/">problem-solving</a>,
    <a href="https://sazid.github.io/tags/c&#43;&#43;/">c&#43;&#43;</a>

    
    <div>
        <button id="read-aloud-btn" onclick="readAloud()">Read Aloud</button>
    
        <script defer>
            let isReadingAloud = false;
            
            function readAloud() {
                let articleText = new SpeechSynthesisUtterance(document.getElementsByTagName('article')[0].innerText);
                let btn = document.getElementById('read-aloud-btn');

                if (isReadingAloud) {
                    btn.innerText = 'Read Aloud';
                    window.speechSynthesis.cancel();
                } else {
                    btn.innerText = 'Stop';
                    window.speechSynthesis.speak(articleText);
                }
                isReadingAloud = !isReadingAloud;
            }
        </script>
    </div>
        
    <p>...</p>
</div>

</header>
<article>
    <p>Problem link: <a href="https://uva.onlinejudge.org/external/2/230.pdf">https://uva.onlinejudge.org/external/2/230.pdf</a></p>

<p>ok, so I got to learn a new word <em>mutilate: inflict serious damage</em>.</p>

<p><strong>People don&rsquo;t put books back where they should and instead they
are kept in the main desk</strong>, this might be a major line&hellip;or maybe
not, let&rsquo;s continue.</p>

<p><strong>Periodically, the librarians will ask  your program for a list of
books that have been returned so the books can be returned to their
correct places on the shelves. Before they are returned to the
shelves, <em>the returned books are sorted by author and then titlte
using the ASCII collating sequence</em>,</strong> this is probably the gist
of the problem. Output should be in the same sorted order as in
the shelve.</p>

<p>A set of books with their authors are given, <em>in no particular
order</em>. Which means, I&rsquo;ll have to sort the set according to the given
comparison condition -
<strong>compare with author, if equals then, compare with title</strong>.
I think, I can use a <code>Book {author, title}</code> structure
to keep a list of the books. This way, it should be easier for me to
write a comparison function to do exactly what the statement wants.
Maybe, something like this:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00f">struct</span> Book {
    string author;
    string title;
};

<span style="color:#2b91af">bool</span> cmp(Book&amp; A, Book&amp; B) {
    <span style="color:#00f">return</span> A.author == B.author ?
        A.title &gt; B.title :     <span style="color:#008000">// sort by title if author is same
</span><span style="color:#008000"></span>        A.author &gt; B.author;    <span style="color:#008000">// else sort by author
</span><span style="color:#008000"></span>}
</code></pre></td></tr></table>
</div>
</div>
<p>I got to learn something new, while trying this out. I had no idea,
it was possible to compare two <code>string</code>s in c++ with <code>&gt;</code> or <code>&lt;</code>
operators (lexicographically, I guess).</p>

<p>Okay, I guess I&rsquo;m a bit mistaken. The comparison shouldn&rsquo;t be with
done with the <code>&gt;</code> operator but instead with the <code>&lt;</code> operator. The
reason is, we want &ldquo;ABC&rdquo; to come up before &ldquo;ACC&rdquo; (lexicography?). So,
the <code>cmp</code> function should be:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#2b91af">bool</span> cmp(Book&amp; A, Book&amp; B) {
    <span style="color:#00f">return</span> A.author == B.author ?
        A.title &lt; B.title :
        A.author &lt; B.author;
}
</code></pre></td></tr></table>
</div>
</div>
<p>Book descriptions will be given in the format: <code>&quot;title&quot; by author</code>
and the title needs to be stripped off of its <code>&quot;...&quot;</code> quotations.
Two sets of inputs: first, the book descriptions and then the queries
which are terminated by the word <code>END</code>. The output must also be
terminated by the same word. Ok, let&rsquo;s give it a try&hellip;</p>

<p>Since, I need to take whole lines as input, I better use
<code>getline(istream, string)</code>
(<a href="http://www.cplusplus.com/reference/string/string/getline/">http://www.cplusplus.com/reference/string/string/getline/</a>). Note,
<code>cin</code> is also an <code>istream</code> so I can pass it like so:
<code>getline(cin, my_str)</code>.</p>

<p>After trying a lot of times&hellip;.I ultimately failed to solve the
problem :( I think, I should invest more time into it sometime later,
but not anymore. The code so far is:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00f">#include</span> <span style="color:#00f">&lt;bits/stdc++.h&gt;</span><span style="color:#00f">
</span><span style="color:#00f"></span><span style="color:#00f">using</span> <span style="color:#00f">namespace</span> std;

<span style="color:#00f">struct</span> Book {
    string author;
    string title;
    
    Book() { }
    
    Book(string author, string title) {
        <span style="color:#00f">this</span>-&gt;author = author;
        <span style="color:#00f">this</span>-&gt;title = title;
    }
};

vector&lt;Book&gt; books;
vector&lt;string&gt; return_queue;
map&lt;string, Book&gt; borrowed;

<span style="color:#00f">inline</span> <span style="color:#2b91af">void</span> prnt() {
	<span style="color:#00f">for</span> (Book&amp; b: books)
		cout &lt;&lt; b.title &lt;&lt; <span style="color:#a31515">&#39; &#39;</span> &lt;&lt; b.author &lt;&lt;endl;
}

<span style="color:#00f">inline</span> <span style="color:#2b91af">bool</span> cmp(Book&amp; A, Book&amp; B) {
    <span style="color:#00f">return</span> A.author == B.author ?
        A.title &lt; B.title :     <span style="color:#008000">// sort by title if author is same
</span><span style="color:#008000"></span>        A.author &lt; B.author;    <span style="color:#008000">// else sort by author
</span><span style="color:#008000"></span>}

<span style="color:#008000">// sort the books
</span><span style="color:#008000"></span><span style="color:#00f">inline</span> <span style="color:#2b91af">void</span> _sort() { sort(books.begin(), books.end(), cmp); }

<span style="color:#2b91af">void</span> read() {
	string x, title, author;
	<span style="color:#00f">while</span> (getline(cin, x)) {
		<span style="color:#00f">if</span> (x == <span style="color:#a31515">&#34;END&#34;</span>) <span style="color:#00f">break</span>;
		
		<span style="color:#2b91af">int</span> quote_pos = x.find_last_of(<span style="color:#a31515">&#39;&#34;&#39;</span>);
		<span style="color:#2b91af">int</span> by_pos = x.find(<span style="color:#a31515">&#34;by &#34;</span>) + 3;
		title = x.substr(1, quote_pos - 1);
		author = x.substr(by_pos, x.size() - by_pos);
		books.push_back(Book(author, title));
	}
	_sort();
}

<span style="color:#00f">inline</span> <span style="color:#2b91af">void</span> remove_book(string&amp; title) {
	<span style="color:#00f">for</span> (<span style="color:#00f">auto</span> it = books.begin(); it != books.end(); ++it)
		<span style="color:#00f">if</span> (it-&gt;title == title) {
			borrowed[it-&gt;title] = *it;
			books.erase(it);
			<span style="color:#00f">break</span>;
		}
}

<span style="color:#00f">inline</span> <span style="color:#2b91af">int</span> return_book(string&amp; title) {
	books.push_back(borrowed[title]);
	_sort();
	<span style="color:#00f">for</span> (<span style="color:#2b91af">int</span> i = 0; i &lt; (<span style="color:#2b91af">int</span>)books.size(); ++i) {
		<span style="color:#00f">if</span> (books[i].title == title) <span style="color:#00f">return</span> i;
	}
	<span style="color:#00f">return</span> 0;
}

<span style="color:#00f">inline</span> <span style="color:#2b91af">void</span> shelve_books() {
	sort(return_queue.rbegin(),return_queue.rend());
	<span style="color:#00f">for</span>(string&amp; s: return_queue) {
		<span style="color:#2b91af">int</span> pos = return_book(s);
		<span style="color:#00f">if</span> (pos == 0)
			cout&lt;&lt; <span style="color:#a31515">&#34;Put </span><span style="color:#a31515">\&#34;</span><span style="color:#a31515">&#34;</span> &lt;&lt; s &lt;&lt; <span style="color:#a31515">&#34;</span><span style="color:#a31515">\&#34;</span><span style="color:#a31515"> first</span><span style="color:#a31515">\n</span><span style="color:#a31515">&#34;</span>;
		<span style="color:#00f">else</span>
			cout&lt;&lt; <span style="color:#a31515">&#34;Put </span><span style="color:#a31515">\&#34;</span><span style="color:#a31515">&#34;</span> &lt;&lt; s &lt;&lt; <span style="color:#a31515">&#34;</span><span style="color:#a31515">\&#34;</span><span style="color:#a31515"> after </span><span style="color:#a31515">\&#34;</span><span style="color:#a31515">&#34;</span> 
				&lt;&lt; books[pos-1].title &lt;&lt; <span style="color:#a31515">&#34;</span><span style="color:#a31515">\&#34;\n</span><span style="color:#a31515">&#34;</span>;
	}
	cout &lt;&lt; <span style="color:#a31515">&#34;END</span><span style="color:#a31515">\n</span><span style="color:#a31515">&#34;</span>;
}

<span style="color:#2b91af">void</span> solve() {
	<span style="color:#00f">const</span> <span style="color:#2b91af">int</span> quote_pos = 8;
	<span style="color:#008000">// BORROW &#34; -&gt; The first &#34; is always at 8th index
</span><span style="color:#008000"></span>	<span style="color:#008000">// RETURN &#34;
</span><span style="color:#008000"></span>	
	string x, title;
	<span style="color:#008000">//~ int pos;
</span><span style="color:#008000"></span>	<span style="color:#00f">while</span> (getline(cin, x)) {
		<span style="color:#00f">if</span> (x == <span style="color:#a31515">&#34;END&#34;</span>) <span style="color:#00f">break</span>;
		
		<span style="color:#00f">switch</span> (x[0]) {
			<span style="color:#008000">// BORROW
</span><span style="color:#008000"></span>			<span style="color:#00f">case</span> <span style="color:#a31515">&#39;B&#39;</span>:
				title = x.substr(quote_pos, x.size()-9);
				remove_book(title);
				_sort();
				<span style="color:#00f">break</span>;
			
			<span style="color:#008000">// RETURN
</span><span style="color:#008000"></span>			<span style="color:#00f">case</span> <span style="color:#a31515">&#39;R&#39;</span>:
				title = x.substr(quote_pos, x.size()-9);
				return_queue.push_back(title);
				<span style="color:#00f">break</span>;
			
			<span style="color:#008000">// SHELVE
</span><span style="color:#008000"></span>			<span style="color:#00f">case</span> <span style="color:#a31515">&#39;S&#39;</span>:
				shelve_books();
				<span style="color:#00f">break</span>;
		}
	}
}

<span style="color:#2b91af">int</span> main() {
	ios::sync_with_stdio(0);
	cin.tie(0);
	
	read();
	solve();
	<span style="color:#008000">//~ prnt();
</span><span style="color:#008000"></span>	
	<span style="color:#00f">return</span> 0;
}
</code></pre></td></tr></table>
</div>
</div>
</article>


    </div>
<div class="footer">
    
    

    
    
    <div class="copyright">© 2019 — Mohammed Sazid Al Rashid — All rights reserved.</div>
    
</div>
</body>

</html>