<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Sqrt Newton Raphson | sazid</title>

    <style>body{margin:40px auto;max-width:650px;line-height:1.6;font-size:18px;color:#444;padding:0 10px}h1,h2,h3{line-height:1.2}div.header h1{padding-top:0;padding-bottom:8px;margin-bottom:24px;font-size:18px;font-weight:400;border-bottom:1px solid}.header-menu{float:right}ul.pagination{list-style-type:none;text-align:center;padding:0}ul.pagination>li{padding:0 8px;display:inline-block}div.footer{border-top:1px solid;text-align:center}img{max-width:100%;max-height:100%;display:block;margin-left:auto;margin-right:auto}</style>

    
</head>

<body>
<div class="header">
    <h1>
        <a href="/">sazid</a>
        <div class="header-menu">
            <a href="/posts/">posts</a>
            <a href="/categories/">categories</a>
            <a href="/tags/">tags</a>
            <a href="/about/">about</a>
        </div>
    </h1>
</div>
<div id="content">

<header>
    <h1>Sqrt Newton Raphson</h1>
    

<div class="post-meta">
    <time datetime="2019-01-18">Jan 18, 2019</time>
    <br>
    Categories:
    <a href="https://sazid.github.io/categories/programming/">programming</a>,
    <a href="https://sazid.github.io/categories/algorithms/">algorithms</a>
    <br>
    Tags:
    <a href="https://sazid.github.io/tags/problem-solving/">problem-solving</a>,
    <a href="https://sazid.github.io/tags/go/">go</a>

    
    <div>
        <button id="read-aloud-btn" onclick="readAloud()">Read Aloud</button>
    
        <script defer>
            let isReadingAloud = false;
            
            function readAloud() {
                let text = document.getElementsByTagName('article')[0].innerText;

                let articleText = new SpeechSynthesisUtterance(text);
                let btn = document.getElementById('read-aloud-btn');

                if (isReadingAloud) {
                    btn.innerText = 'Read Aloud';
                    window.speechSynthesis.cancel();
                } else {
                    btn.innerText = 'Stop';
                    window.speechSynthesis.speak(articleText);
                }
                isReadingAloud = !isReadingAloud;
            }
        </script>
    </div>
        
    <p>...</p>
</div>

</header>
<article>
    <p>Suddenly I had the urge to learn the basics of Go (lang) and see
what&rsquo;s so special about it. So, I went to <a href="https://golang.org/">https://golang.org/</a> and
from there I started the &ldquo;A Tour of Go&rdquo; short tutorial. It&rsquo;s kind
of like an interactive tutorial. As I progressed through the
tutorial, I found a very interesting algorithm for finding the
square root of a number. It&rsquo;s the <strong>Newton-Raphson root-finding
algorithm</strong>. I literally forgot about it, but I learnt about this
in my 5th semester&rsquo;s math course.
<a href="https://en.wikipedia.org/wiki/Newton%27s_method">https://en.wikipedia.org/wiki/Newton%27s_method</a></p>

<p>I should quote one important line from the tour:</p>

<blockquote>
<p>If you are interested in the details of the algorithm, the z² − x
above is how far away z² is from where it needs to be (x), and the
division by 2z is the derivative of z², to scale how much we adjust
z by how quickly z² is changing. This general approach is called
Newton&rsquo;s method. It works well for many functions but especially
well for square root.</p>
</blockquote>

<p>Here&rsquo;s the code:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#00f">package</span> main

<span style="color:#00f">import</span> (
    <span style="color:#a31515">&#34;fmt&#34;</span>
    <span style="color:#a31515">&#34;math&#34;</span>
)

<span style="color:#00f">func</span> Sqrt(x <span style="color:#2b91af">float64</span>) <span style="color:#2b91af">float64</span> {
    z := 1.0

    <span style="color:#00f">for</span> i := 1; i &lt;= 15; i++ {
        z -= (z*z - x) / (2*z)
    }

    <span style="color:#00f">return</span> z
}

<span style="color:#00f">func</span> main() {
    <span style="color:#00f">for</span> i := 1; i &lt;= 20; i++ {
		fmt.Println(i, math.Sqrt(float64(i)), Sqrt(float64(i)))
    }
}</code></pre></td></tr></table>
</div>
</div>
<p>Output:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">1 1 1
2 1.4142135623730951 1.4142135623730951
3 1.7320508075688772 1.7320508075688772
4 2 2
5 2.23606797749979 2.23606797749979
6 2.449489742783178 2.449489742783178
7 2.6457513110645907 2.6457513110645907
8 2.8284271247461903 2.82842712474619
9 3 3
10 3.1622776601683795 3.162277660168379
11 3.3166247903554 3.3166247903554
12 3.4641016151377544 3.4641016151377544
13 3.605551275463989 3.605551275463989
14 3.7416573867739413 3.7416573867739413
15 3.872983346207417 3.872983346207417
16 4 4
17 4.123105625617661 4.123105625617661
18 4.242640687119285 4.242640687119286
19 4.358898943540674 4.358898943540673
20 4.47213595499958 4.47213595499958</pre></td></tr></table>
</div>
</div>
<p><strong>Note:</strong> the left most numbers indicate line numbers,
not output values. First column indicates <strong>i</strong>, second column indicates
standard library&rsquo;s <strong>math.Sqrt()</strong> function and the third column
indicates my hand-written <strong>Sqrt()</strong> function using the
Newton-Raphson root finding algorithm.</p>

<p>As seen from the output results, the algorithm is quite accurate
even for just <strong>10-15 iterations</strong> it gives us almost the same
accuracy as the standard library&rsquo;s square root function. I think,
I might start using it for my own code instead of the C/C++ builtin
sqrt() function.</p>

</article>


    </div>
<div class="footer">
    
    

    
    
    <div class="copyright">© 2019 — Mohammed Sazid Al Rashid — All rights reserved.</div>
    
</div>
</body>

</html>